optional_address_family_identifier
# This file describes the network interfaces

iface lo inet loopback
 address 2.3.0.0/32

interface eth0
 address 10.20.30.1/31

interface eth1
 address 10.20.40.1/31

iface eth2
 address 10.20.50.1/31

iface eth3
 address 10.20.60.1/31


### end /etc/network/interfaces

# ports.conf --

### start of frr.conf
frr version
!
!
router bgp 123
 bgp router-id 2.3.0.0
 network 2.3.0.0/32

 ! Test-case1: Assigning route-map to neighbor without AFI on interface defined using "interface".
 neighbor pg_without_afi_with_interface peer-group
 neighbor pg_without_afi_with_interface remote-as 345
 neighbor pg_without_afi_with_interface update-source 10.20.30.1
 neighbor 10.20.30.0 peer-group pg_without_afi_with_interface
 neighbor pg_without_afi_with_interface route-map TEST_OUT out
 neighbor pg_without_afi_with_interface route-map TEST_IN in

 ! Test-case2: Assigning route-map to neighbor with AFI on interface defined using "interface".
 neighbor pg_with_afi_with_interface peer-group
 neighbor pg_with_afi_with_interface remote-as 345
 neighbor pg_with_afi_with_interface update-source 10.20.40.1
 neighbor 10.20.40.0 peer-group pg_with_afi_with_interface

 ! Test-case3: Assigning route-map to neighbor without AFI on interface defined using "iface".
 neighbor pg_without_afi_with_iface peer-group
 neighbor pg_without_afi_with_iface remote-as 345
 neighbor pg_without_afi_with_iface update-source 10.20.50.1
 neighbor 10.20.50.0 peer-group pg_without_afi_with_iface
 neighbor pg_without_afi_with_iface route-map TEST_OUT out
 neighbor pg_without_afi_with_iface route-map TEST_IN in

 ! Test-case4: Assigning route-map to neighbor with AFI on interface defined using "iface".
 neighbor pg_with_afi_with_iface peer-group
 neighbor pg_with_afi_with_iface remote-as 345
 neighbor pg_with_afi_with_iface update-source 10.20.60.1
 neighbor 10.20.60.0 peer-group pg_with_afi_with_iface

!
 address-family ipv4 unicast
 neighbor pg_with_afi_with_interface route-map TEST_OUT out
 neighbor pg_with_afi_with_interface route-map TEST_IN in
 neighbor pg_with_afi_with_iface route-map TEST_OUT out
 neighbor pg_with_afi_with_iface route-map TEST_IN in
 exit-address-family
!
!
route-map TEST_IN permit 10
route-map TEST_OUT permit 10
!
!
line vty
!
!### end frr.conf
